import{a as k}from"./chunk-WQ74LAME.js";import{a as b,b as t,c as y,d as w,e as C,f as i,h as S,k as E,l as _,s as N,u as F}from"./chunk-GFUF5DTM.js";import{j as v,o as V}from"./chunk-HD3FFQXR.js";import{q as g}from"./chunk-MMZLANRT.js";import{Bb as h,Fa as s,Ga as u,Va as d,_ as f,bb as o,cb as n,db as x,e as j,kb as c,tb as a}from"./chunk-4Z7TEFED.js";var l=j(k());var A=class p{constructor(r,e){this._Router=r;this._UserAuthService=e}resetForm=new C({input1:new i("",[t.required]),input2:new i("",[t.required]),input3:new i("",[t.required]),input4:new i("",[t.required]),input5:new i("",[t.required]),input6:new i("",[t.required])});verifyEmail={email:"",verificationCode:""};verify(){let r=String(Object.values(this.resetForm.value).map(e=>e||"").join(""));this.verifyEmail.email=localStorage.getItem("email")||"",this.verifyEmail.verificationCode=r,this.resetForm.reset(),console.log(this.verifyEmail),this._UserAuthService.verifyResetCode(this.verifyEmail).subscribe({next:e=>{l.default.fire({title:"Success",text:"Code is valid, Your account created, Now please login",icon:"success",showConfirmButton:!0}).then(()=>{localStorage.removeItem("email"),this._Router.navigate(["/login"])})},error:e=>{l.default.fire({title:"Error",text:e.error.message,icon:"error",showConfirmButton:!0})}})}sendCodeAgain(){let r=localStorage.getItem("email")||"";this._UserAuthService.resendverificationcode(r).subscribe({next:e=>{l.default.fire({title:"Success",text:"Code has been sent to your email again",icon:"success",showCloseButton:!0})},error:e=>{l.default.fire({title:"Error",icon:"error"})}})}static \u0275fac=function(e){return new(e||p)(u(v),u(V))};static \u0275cmp=f({type:p,selectors:[["app-verify-email"]],standalone:!0,features:[h],decls:18,vars:2,consts:[[1,"overflow-hidden","flex","items-center","justify-center","w-full","bg-gradient-to-br","from-[#703232]/10","via-[#a14b4b]/10","to-[#703232]/10"],[1,"p-8","text-center","w-fit","rounded-3xl","shadow-2xl","my-10","mx-auto"],[1,"block","text-4xl","font-extrabold","text-gray-900","bg-clip-text","text-transparent","bg-[#703232]"],[1,"text-base","text-gray-700","mb-6"],[1,"flex","justify-center","space-x-4","mb-6",3,"formGroup"],["type","text","maxlength","1","formControlName","input1",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input2",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input3",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input4",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input5",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input6",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],[1,"w-full","flex","justify-center","py-4","px-8","border","border-transparent","text-xl","font-bold","rounded-xl","text-white","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","cursor-pointer","disabled:opacity-50","disabled:cursor-no-drop",3,"click","disabled"],[1,"place-self-end","mt-5"],[1,"text-[#703232]","border-b-2","w-fit","font-bold","hover:text-[#5b2929]","cursor-pointer","transition-colors","duration-200",3,"click"]],template:function(e,m){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3," Verify Email "),n(),o(4,"p",3),a(5," Enter the 6-digit code sent to your email "),n(),o(6,"form",4),x(7,"input",5)(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10),n(),o(13,"button",11),c("click",function(){return m.verify()}),a(14," Verify "),n(),o(15,"div",12)(16,"p",13),c("click",function(){return m.sendCodeAgain()}),a(17," Send Code again!! "),n()()()()),e&2&&(s(6),d("formGroup",m.resetForm),s(7),d("disabled",m.resetForm.invalid))},dependencies:[F,S,b,y,w,N,E,_,g]})};export{A as VerifyEmailComponent};
