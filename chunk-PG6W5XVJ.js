import{a as z}from"./chunk-WQ74LAME.js";import{a as I,b as w,c as A,d as k,e as U,f,h as j,k as D,l as G,u as M}from"./chunk-GFUF5DTM.js";import{j as E,o as T}from"./chunk-HD3FFQXR.js";import{h as P,j as R,q as N}from"./chunk-MMZLANRT.js";import{Bb as C,Eb as g,Fa as n,Fb as S,Ga as p,Ta as y,Va as i,_ as x,bb as l,cb as s,db as u,e as q,kb as F,lb as _,tb as d,ub as c}from"./chunk-4Z7TEFED.js";var b=q(z());var B=(o,a,e)=>({"border-2 border-[#a14b4b]":o,"border-2 border-red-500":a,"border-2 border-gray-200":e}),$=(o,a)=>({"text-[#a14b4b]":o,"text-red-500":a});function Z(o,a){if(o&1&&(l(0,"div",10)(1,"span",11),d(2),s(),d(3," At least 8 characters, one uppercase, one lowercase, one number, and one special character (ex: Mo12367!) "),s()),o&2){let e,t,r=_();i("ngClass",g(2,$,!((e=r.resetForm.get("password"))!=null&&e.hasError("pattern"))&&((e=r.resetForm.get("password"))==null?null:e.value),((e=r.resetForm.get("password"))==null?null:e.hasError("pattern"))&&((e=r.resetForm.get("password"))==null?null:e.value))),n(2),c(!((t=r.resetForm.get("password"))!=null&&t.hasError("pattern"))&&((t=r.resetForm.get("password"))!=null&&t.value)?"\u2714":"\u2718")}}var V=class o{constructor(a,e){this._Router=a;this._UserAuthService=e;this.email=localStorage.getItem("email")}email="";resetForm=new U({email:new f(""),password:new f("",[w.required,w.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#^~]{8,}$/)])});reset(){let a={email:this.email,newPassword:this.resetForm.get("password")?.value||""};this._UserAuthService.resetPassword(a).subscribe({next:e=>{console.log(e),b.default.fire({title:"Password Reset",text:e.message,icon:"success",showConfirmButton:!0}).then(()=>{localStorage.removeItem("email"),this._Router.navigate(["/login"])})},error(e){b.default.fire({title:"Error",text:e,icon:"error",showConfirmButton:!0})}})}static \u0275fac=function(e){return new(e||o)(p(E),p(T))};static \u0275cmp=x({type:o,selectors:[["app-reset-password"]],standalone:!0,features:[C],decls:21,vars:15,consts:[[1,"flex","items-center","justify-center","w-full","p-6","bg-gradient-to-br","from-[#703232]/10","via-[#a14b4b]/10","to-[#703232]/10","animate-gradient"],[1,"mt-7","bg-white/10","backdrop-blur-lg","rounded-2xl","shadow-2xl","border","border-white/20","p-4","sm:p-7"],[1,"text-center"],[1,"block","text-4xl","font-extrabold","text-gray-900","bg-clip-text","text-transparent","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]"],[1,"mt-6"],[3,"formGroup"],[1,"grid","sm:w-[400px]","gap-y-6"],["type","email","id","email","formControlName","email",1,"appearance-none","block","w-full","px-4","py-3","bg-gray-200","rounded-xl","text-gray-900","placeholder-gray-500","outline-none","transition-all","duration-300","shadow-md",3,"disabled","placeholder"],["type","password","id","password","placeholder","New Password","formControlName","password",1,"appearance-none","block","w-full","px-4","py-3","bg-white/50","rounded-xl","text-gray-900","placeholder-gray-500","focus:outline-none","focus:ring-4","focus:ring-[#a14b4b]/50","transition-all","duration-300","shadow-md",3,"ngClass"],[1,"mt-2","text-sm"],[3,"ngClass"],[1,"inline-block","w-4"],[3,"ngClass",4,"ngIf"],[1,"flex","items-center","justify-center","mt-5"],[1,"w-full","cursor-pointer","flex","justify-center","py-4","px-8","border","border-transparent","text-xl","font-bold","rounded-xl","text-white","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(e,t){if(e&1&&(l(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4," New Password "),s()(),l(5,"div",4)(6,"form",5)(7,"div",6)(8,"div"),u(9,"input",7),s(),l(10,"div"),u(11,"input",8),l(12,"div",9)(13,"p",10)(14,"span",11),d(15),s(),d(16," Password is required "),s(),y(17,Z,4,5,"div",12),s()(),l(18,"div",13)(19,"button",14),F("click",function(){return t.reset()}),d(20," Update Password "),s()()()()()()()),e&2){let r,m,v,h;n(6),i("formGroup",t.resetForm),n(3),i("disabled",!0)("placeholder",t.email),n(2),i("ngClass",S(8,B,(r=t.resetForm.get("password"))==null?null:r.valid,(r=t.resetForm.get("password"))==null?null:r.invalid,!((r=t.resetForm.get("password"))!=null&&r.touched))),n(2),i("ngClass",g(12,$,(m=t.resetForm.get("password"))==null?null:m.value,!((m=t.resetForm.get("password"))!=null&&m.value))),n(2),c((v=t.resetForm.get("password"))!=null&&v.value?"\u2714":"\u2718"),n(2),i("ngIf",(h=t.resetForm.get("password"))==null?null:h.value),n(2),i("disabled",!t.resetForm.valid)}},dependencies:[M,j,I,A,k,D,G,N,P,R]})};export{V as ResetPasswordComponent};
