import{a as q}from"./chunk-WQ74LAME.js";import{a as w,b as t,c as C,d as v,e as y,f as r,h as S,k as _,l as R,s as N,u as F}from"./chunk-GFUF5DTM.js";import{j as b,o as A}from"./chunk-HD3FFQXR.js";import{q as g}from"./chunk-MMZLANRT.js";import{Bb as h,Fa as d,Ga as m,Va as u,_ as x,bb as i,cb as n,db as f,e as k,kb as c,tb as a}from"./chunk-4Z7TEFED.js";var s=k(q());var E=class p{constructor(o,e){this._Router=o;this._UserAuthService=e}resetForm=new y({input1:new r("",[t.required]),input2:new r("",[t.required]),input3:new r("",[t.required]),input4:new r("",[t.required]),input5:new r("",[t.required]),input6:new r("",[t.required])});reset={email:"",verificationCode:""};verify(){let o=String(Object.values(this.resetForm.value).map(e=>e||"").join(""));this.reset.email=localStorage.getItem("email")||"",this.reset.verificationCode=o,this.resetForm.reset(),this._UserAuthService.verifyResetCode(this.reset).subscribe({next:e=>{s.default.fire({title:"Success",text:"Code is valid, now reset yout password",icon:"success",showConfirmButton:!0}).then(()=>{this._Router.navigate(["/reset-password"])})},error:e=>{s.default.fire({title:"Error",text:e.error.message,icon:"error",showConfirmButton:!0})}})}sendCodeAgain(){let o={email:localStorage.getItem("recoverdEmail")||""};this._UserAuthService.forgetPassword(o).subscribe({next:e=>{s.default.fire({title:"Success",text:"Code has been sent to your email again",icon:"success",showCloseButton:!0})},error:e=>{s.default.fire({title:"Error",icon:"error"})}})}static \u0275fac=function(e){return new(e||p)(m(b),m(A))};static \u0275cmp=x({type:p,selectors:[["app-reset-code"]],standalone:!0,features:[h],decls:18,vars:2,consts:[[1,"overflow-hidden","flex","items-center","justify-center","w-full","bg-gradient-to-br","from-[#703232]/10","via-[#a14b4b]/10","to-[#703232]/10"],[1,"p-8","text-center","w-fit","rounded-3xl","shadow-2xl","my-10","mx-auto"],[1,"block","text-4xl","font-extrabold","text-gray-900","bg-clip-text","text-transparent","bg-[#703232]"],[1,"text-base","text-gray-700","mb-6"],[1,"flex","justify-center","space-x-4","mb-6",3,"formGroup"],["type","text","maxlength","1","formControlName","input1",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input2",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input3",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input4",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input5",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input6",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],[1,"w-full","flex","cursor-pointer","justify-center","py-4","px-8","border","border-transparent","text-xl","font-bold","rounded-xl","text-white","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","cursor-pointer","disabled:opacity-50","disabled:cursor-no-drop",3,"click","disabled"],[1,"place-self-end","mt-5"],[1,"text-[#703232]","border-b-2","w-fit","font-bold","hover:text-[#5b2929]","cursor-pointer","transition-colors","duration-200",3,"click"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),a(3," Verify OTP "),n(),i(4,"p",3),a(5," Enter the 6-digit code sent to your email "),n(),i(6,"form",4),f(7,"input",5)(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10),n(),i(13,"button",11),c("click",function(){return l.verify()}),a(14," Verify "),n(),i(15,"div",12)(16,"p",13),c("click",function(){return l.sendCodeAgain()}),a(17," Send Code again!! "),n()()()()),e&2&&(d(6),u("formGroup",l.resetForm),d(7),u("disabled",l.resetForm.invalid))},dependencies:[g,F,S,w,C,v,N,_,R]})};export{E as ResetCodeComponent};
