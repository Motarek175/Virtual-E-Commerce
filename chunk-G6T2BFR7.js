import{a as Ne}from"./chunk-WQ74LAME.js";import{a as xe,b,c as fe,d as be,e as Ce,f as D,g as ye,h as Se,k as Pe,l as we,m as De,n as Ie,o as Me,t as Ee,u as Oe}from"./chunk-GFUF5DTM.js";import{a as he,b as ve,n as Re,o as Ae}from"./chunk-HD3FFQXR.js";import{h as me,i as ue,j as pe,p as _e,q as ge}from"./chunk-MMZLANRT.js";import{Aa as ee,Bb as le,Cb as ce,Db as y,Eb as O,Fa as s,Fb as Y,Ga as te,Gb as T,Hb as Q,Jb as J,S as re,Ta as h,Va as l,X as se,Xa as A,_ as ae,a as C,bb as n,cb as r,db as v,e as ne,eb as oe,fb as de,ha as u,hb as f,ia as p,kb as _,lb as c,tb as d,ub as I,vb as g,wb as k,xb as S,yb as P,zb as w}from"./chunk-4Z7TEFED.js";var Te=ne(Re()),E=ne(Ne());var X=class i{constructor(t){this._HttpClient=t}apiUrl="https://aston.runasp.net/api/Admin/";apiCustomer="https://aston.runasp.net/api/Customer/";apiMerchant="https://aston.runasp.net/api/Merchant/";getHeaders(){let t=localStorage.getItem("token")||"";return new he({Authorization:`Bearer ${t}`})}getAllOrders(){return this._HttpClient.get(`${this.apiUrl}ShowAllOrders`,{headers:this.getHeaders()})}getSpecificOrder(t){return this._HttpClient.get(`${this.apiUrl}ShowSpecificOrders?orderId=${t}`,{headers:this.getHeaders()})}getOrderDetails(t){return this._HttpClient.get(`${this.apiUrl}GetOrderDetails?orderId=${t}`,{headers:this.getHeaders()})}updateOrderStatus(t,e){return this._HttpClient.put(`${this.apiUrl}UpdateStatusOrder?orderId=${t}&Status=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}updateOrderPhone(t,e){return this._HttpClient.put(`${this.apiUrl}UpdatePhone?orderId=${t}&newPhone=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}updateOrderAddress(t,e){return this._HttpClient.put(`${this.apiUrl}UpdateAdress?orderId=${t}&newaddress=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}getDeliveryReps(){return this._HttpClient.get(`${this.apiUrl}GetAllDeliveryReps`,{headers:this.getHeaders()})}getDeliveryRepById(t){return this._HttpClient.get(`${this.apiUrl}GetDeliveryRepwithID?Id=${t}`,{headers:this.getHeaders()})}addDeliveryRep(t){return this._HttpClient.post(`${this.apiUrl}create-delivery-rep`,t,{headers:this.getHeaders()})}updateDeliveryRepStatus(t,e){return this._HttpClient.put(`${this.apiUrl}UpdateDeliveryRepStatus`,{deliveryRepId:t,newStatus:e},{headers:this.getHeaders()})}getAllCustomers(){return this._HttpClient.get(`${this.apiCustomer}ShowAllCustomers`,{headers:this.getHeaders()})}getCustomerById(t){return this._HttpClient.get(`${this.apiCustomer}ShowCustomerwithId?Id=${t}`,{headers:this.getHeaders()})}updateCustomerStatus(t,e){return this._HttpClient.put(`${this.apiCustomer}UpdateCustomerStatus?customerId=${t}&status=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}getProducts(){return this._HttpClient.get(`${this.apiUrl}ShowAllProducts`,{headers:this.getHeaders()})}getProductById(t){return this._HttpClient.get(`${this.apiUrl}ShowProductWithId?id=${t}`,{headers:this.getHeaders()})}updateProductStatus(t,e){return this._HttpClient.put(`${this.apiUrl}update-product-status?productId=${t}&NewStatus=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}getAllMerchants(){return this._HttpClient.get(`${this.apiMerchant}ShowAllMerchants`,{headers:this.getHeaders()})}getMerchantById(t){return this._HttpClient.get(`${this.apiMerchant}ShowMerchantwithId?Id=${t}`,{headers:this.getHeaders()})}updateMerchantStatus(t,e){return this._HttpClient.put(`${this.apiMerchant}UpdateMerchantStatus?merchantId=${encodeURIComponent(t)}&status=${encodeURIComponent(e)}`,{},{headers:this.getHeaders()})}static \u0275fac=function(e){return new(e||i)(se(ve))};static \u0275prov=re({token:i,factory:i.\u0275fac,providedIn:"root"})};var Fe=(i,t,e)=>({"text-green-600 bg-green-100":i,"text-gray-600 bg-gray-100":t,"text-red-600 bg-red-100":e}),He=(i,t)=>({"bg-gradient-to-r from-[#703232] to-[#a14b4b] text-white border-none rounded-full w-10 h-10 flex items-center justify-center":i,"hover:bg-gray-100":t}),Ue=()=>[1,2,3,4,5],We=(i,t)=>({"text-green-600 bg-green-100":i,"text-red-600 bg-red-100":t}),je=(i,t,e)=>({"fa-star":i,"fa-star-half-alt":t,"fa-star-o":e}),ie=(i,t)=>({"bg-[var(--main-color)] text-white border-[var(--main-color)] rounded-full w-10 h-10 flex items-center justify-center":i,"":t}),M=i=>({"border-red-500":i}),qe=(i,t)=>({"text-green-600 bg-green-100":i,"text-gray-600 bg-gray-100":t}),Le=i=>({"backdrop-blur-sm":i}),Ge=(i,t,e,o)=>({"text-green-600":i,"text-red-600":t,"text-yellow-600":e,"text-gray-600":o}),ze=(i,t,e,o)=>({"text-green-600":i,"text-yellow-600":t,"text-red-600":e,"text-gray-600":o}),Ve=(i,t,e,o)=>({"bg-yellow-100 text-yellow-800":i,"bg-orange-100 text-orange-800":t,"bg-green-100 text-green-800":e,"bg-blue-100 text-blue-800":o}),Ze=(i,t)=>({"bg-gradient-to-r from-[#703232] to-[#a14b4b] text-white rounded-full w-10 h-10 flex items-center justify-center":i,"text-gray-600 hover:text-[#703232]":t});function Ke(i,t){if(i&1&&(n(0,"div",26)(1,"h1",27),d(2),r(),n(3,"p",28),d(4," Take full control of your e-commerce platform. Navigate the tabs above to manage products, orders, merchants, customers, and delivery reps effortlessly. "),r(),v(5,"img",29),r()),i&2){let e=c();s(2),g(" Welcome ",e.adminPersonName," to Admin Dashboard ")}}function Ye(i,t){i&1&&(n(0,"div",35),v(1,"i",36),n(2,"p",37),d(3,"Loading customers..."),r()())}function Qe(i,t){i&1&&(n(0,"div",35),v(1,"i",38),n(2,"p",37),d(3,"No customers found"),r()())}function Je(i,t){if(i&1){let e=f();n(0,"div",41),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.selectCustomer(a))}),n(1,"div",42)(2,"div")(3,"h3",43),d(4),r(),n(5,"p",44),d(6),r(),n(7,"p",44),d(8),r()(),n(9,"div",45)(10,"span",46),d(11),r()()()()}if(i&2){let e=t.$implicit;s(4),g(" ",e.customerName," "),s(2),g("ID: ",e.customerId,""),s(2),g(" Orders: ",e.ordercount," "),s(2),l("ngClass",Y(5,Fe,e.status==="Active",e.status==="Inactive",e.status==="Banned")),s(),g(" ",e.status," ")}}function Xe(i,t){if(i&1&&(n(0,"div",39),h(1,Je,12,9,"div",40),r()),i&2){let e=c(2);s(),l("ngForOf",e.paginatedCustomers)("ngForTrackBy",e.trackByCustomerId)}}function et(i,t){if(i&1){let e=f();n(0,"button",53),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.changeCustomersPage(a))}),d(1),r()}if(i&2){let e=t.$implicit,o=c(3);l("ngClass",O(2,He,o.currentCustomersPage===e,o.currentCustomersPage!==e)),s(),g(" ",e," ")}}function tt(i,t){if(i&1){let e=f();n(0,"div",47)(1,"nav",48)(2,"button",49),_("click",function(){u(e);let a=c(2);return p(a.changeCustomersPage(a.currentCustomersPage-1))}),v(3,"i",50),r(),h(4,et,2,5,"button",51),n(5,"button",49),_("click",function(){u(e);let a=c(2);return p(a.changeCustomersPage(a.currentCustomersPage+1))}),v(6,"i",52),r()()()}if(i&2){let e=c(2);s(2),l("disabled",e.currentCustomersPage===1),s(2),l("ngForOf",e.getCustomersPageNumbers()),s(),l("disabled",e.currentCustomersPage===e.totalCustomersPages)}}function it(i,t){if(i&1){let e=f();n(0,"div",69)(1,"span",46),d(2),r(),n(3,"button",70),_("click",function(){u(e);let a=c(3);return p(a.startEditingCustomerStatus())}),v(4,"i",71),r()()}if(i&2){let e=c(3);s(),l("ngClass",Y(2,Fe,e.selectedCustomer.status==="Active",e.selectedCustomer.status==="Inactive",e.selectedCustomer.status==="Banned")),s(),g(" ",e.selectedCustomer.status," ")}}function nt(i,t){if(i&1&&(n(0,"option",77),d(1),r()),i&2){let e=t.$implicit;l("value",e),s(),g(" ",e," ")}}function rt(i,t){if(i&1){let e=f();n(0,"div",72)(1,"select",73),w("ngModelChange",function(a){u(e);let m=c(3);return P(m.newCustomerStatus,a)||(m.newCustomerStatus=a),p(a)}),h(2,nt,2,2,"option",74),r(),n(3,"button",75),_("click",function(){u(e);let a=c(3);return p(a.saveCustomerStatus())}),d(4," Save "),r(),n(5,"button",76),_("click",function(){u(e);let a=c(3);return p(a.cancelEditingCustomerStatus())}),d(6," Cancel "),r()()}if(i&2){let e=c(3);s(),S("ngModel",e.newCustomerStatus),s(),l("ngForOf",e.customerStatusOptions)}}function st(i,t){if(i&1&&(n(0,"div",78),d(1),r()),i&2){let e=c(3);s(),g(" ",e.errorMessageCutomers," ")}}function at(i,t){if(i&1&&(n(0,"div",79),d(1),r()),i&2){let e=c(3);s(),g(" ",e.successMessage," ")}}function ot(i,t){if(i&1){let e=f();n(0,"div",54)(1,"div",55)(2,"button",56),_("click",function(){u(e);let a=c(2);return p(a.cancelCustomerEdit())}),v(3,"i",57),r(),n(4,"h2",58),d(5),r(),n(6,"p",59),d(7),r(),n(8,"p",60),d(9),r(),n(10,"div",61)(11,"label",62),d(12,"Status"),r(),h(13,it,5,6,"div",63)(14,rt,7,2,"div",64),r(),h(15,st,2,1,"div",65)(16,at,2,1,"div",66),n(17,"div",67)(18,"button",68),_("click",function(){u(e);let a=c(2);return p(a.cancelCustomerEdit())}),d(19," Close "),r()()()()}if(i&2){let e=c(2);s(5),g(" Customer ID: ",e.selectedCustomer.customerId," "),s(2),g(" Name: ",e.selectedCustomer.customerName," "),s(2),g(" Total Orders: ",e.selectedCustomer.ordercount," "),s(4),l("ngIf",!e.editingCustomerStatus),s(),l("ngIf",e.editingCustomerStatus),s(),l("ngIf",e.errorMessageCutomers),s(),l("ngIf",e.successMessage)}}function dt(i,t){if(i&1&&(n(0,"div",30)(1,"h1",27),d(2," All Customers "),r(),h(3,Ye,4,0,"div",31)(4,Qe,4,0,"div",31)(5,Xe,2,2,"div",32)(6,tt,7,3,"div",33)(7,ot,20,7,"div",34),r()),i&2){let e=c();s(3),l("ngIf",e.loading),s(),l("ngIf",!e.loading&&e.paginatedCustomers.length===0),s(),l("ngIf",!e.loading&&e.paginatedCustomers.length>0),s(),l("ngIf",!e.loading&&e.paginatedCustomers.length!==0),s(),l("ngIf",e.selectedCustomer)}}function lt(i,t){i&1&&(n(0,"div",35),v(1,"i",38),n(2,"p",37),d(3,"No merchants found"),r()())}function ct(i,t){if(i&1&&(oe(0),v(1,"i",88),de()),i&2){let e=t.index,o=c().$implicit;s(),l("ngClass",Y(1,je,(o.feedback||0)>=e+1,(o.feedback||0)>=e+.5&&(o.feedback||0)<e+1,(o.feedback||0)<e+.5))}}function mt(i,t){if(i&1){let e=f();n(0,"div",83),_("click",function(){let a=u(e).$implicit,m=c(2);return p(m.selectMerchant(a))}),n(1,"div",69)(2,"span",84),d(3),r()(),n(4,"div",69)(5,"span",85),d(6),r()(),n(7,"div",69),h(8,ct,2,5,"ng-container",86),n(9,"span",87),d(10),r()(),n(11,"div",69)(12,"span",46),d(13),r()(),n(14,"div",69)(15,"span",85),d(16),Q(17,"number"),r()()()}if(i&2){let e=t.$implicit,o=c(2);s(2),l("title",e.merchantName),s(),g(" ",e.merchantName," "),s(3),I(e.hireAge),s(2),l("ngForOf",ce(11,Ue)),s(2),g(" (",e.feedback||0,") "),s(2),l("ngClass",O(12,We,e.status==="Active",e.status==="Inactive")),s(),g(" ",e.status," "),s(3),g(" $",J(17,8,o.calculateMerchantEarnings(e.merchantId),"1.2-2")," ")}}function ut(i,t){if(i&1){let e=f();n(0,"button",92),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.changeMerchantsPage(a))}),d(1),r()}if(i&2){let e=t.$implicit,o=c(3);l("ngClass",O(2,ie,o.currentMerchantsPage===e,o.currentMerchantsPage!==e)),s(),g(" ",e," ")}}function pt(i,t){if(i&1){let e=f();n(0,"div",47)(1,"nav",48)(2,"button",89),_("click",function(){u(e);let a=c(2);return p(a.changeMerchantsPage(a.currentMerchantsPage-1))}),v(3,"i",50),r(),h(4,ut,2,5,"button",90),n(5,"button",91),_("click",function(){u(e);let a=c(2);return p(a.changeMerchantsPage(a.currentMerchantsPage+1))}),v(6,"i",52),r()()()}if(i&2){let e=c(2);s(2),l("disabled",e.currentMerchantsPage===1),s(2),l("ngForOf",e.getMerchantsPageNumbers()),s(),l("disabled",e.currentMerchantsPage===e.totalMerchantsPages)}}function _t(i,t){if(i&1){let e=f();n(0,"div",54)(1,"div",93)(2,"h2",94),d(3),r(),n(4,"p",95),d(5),r(),n(6,"p",95),d(7),r(),n(8,"p",95),d(9),r(),n(10,"p",95),d(11),Q(12,"number"),r(),n(13,"div",96)(14,"label",62),d(15," Update Status "),r(),n(16,"select",97),w("ngModelChange",function(a){u(e);let m=c(2);return P(m.selectedMerchant.status,a)||(m.selectedMerchant.status=a),p(a)}),_("change",function(){u(e);let a=c(2);return p(a.updateMerchantStatus(a.selectedMerchant))}),n(17,"option",98),d(18,"Active"),r(),n(19,"option",99),d(20,"Inactive"),r()()(),n(21,"div",100)(22,"button",68),_("click",function(){u(e);let a=c(2);return p(a.selectedMerchant=null)}),d(23," Close "),r()()()()}if(i&2){let e=c(2);s(3),g(" Merchant ID: ",e.selectedMerchant.merchantId," "),s(2),g("Name: ",e.selectedMerchant.merchantName,""),s(2),g("Hire Age: ",e.selectedMerchant.hireAge,""),s(2),g(" Feedback: ",e.selectedMerchant.feedback||0," "),s(2),g(" Gaining Money (Delivered Orders): $",J(12,6,e.calculateMerchantEarnings(e.selectedMerchant.merchantId),"1.2-2")," "),s(5),S("ngModel",e.selectedMerchant.status)}}function gt(i,t){if(i&1&&(n(0,"div",30)(1,"h1",27),d(2," All Merchants "),r(),h(3,lt,4,0,"div",31),n(4,"div",80)(5,"div",81)(6,"div"),d(7,"Name"),r(),n(8,"div"),d(9,"Hire Age"),r(),n(10,"div"),d(11,"Feedback"),r(),n(12,"div"),d(13,"Status"),r(),n(14,"div"),d(15,"Gaining Money (Delivered)"),r()(),h(16,mt,18,15,"div",82),r(),h(17,pt,7,3,"div",33)(18,_t,24,9,"div",34),r()),i&2){let e=c();s(3),l("ngIf",e.paginatedMerchants.length===0),s(13),l("ngForOf",e.paginatedMerchants),s(),l("ngIf",e.paginatedMerchants.length!==0),s(),l("ngIf",e.selectedMerchant)}}function ht(i,t){i&1&&(n(0,"p",123),d(1," Username is required and must contain only letters and numbers, no spaces or special characters "),r())}function vt(i,t){i&1&&(n(0,"p",123),d(1," Email is required and Enter a valid email "),r())}function xt(i,t){i&1&&(n(0,"p",123),d(1," Password is required and must be At least 8 characters, one uppercase, one lowercase, one number, and one special character "),r())}function ft(i,t){i&1&&(n(0,"p",123),d(1," Phone is required and enter a Valid phone number. "),r())}function bt(i,t){i&1&&(n(0,"p",123),d(1," State is required. "),r())}function Ct(i,t){i&1&&(n(0,"p",123),d(1," Governorate is required. "),r())}function yt(i,t){i&1&&(n(0,"p",123),d(1," Location is required. "),r())}function St(i,t){i&1&&(n(0,"p",123),d(1," Gender is required. "),r())}function Pt(i,t){i&1&&(n(0,"p",123),d(1," Birth date is required. "),r())}function wt(i,t){i&1&&(n(0,"p",123),d(1," National ID must be 14 digits. "),r())}function Dt(i,t){if(i&1){let e=f();n(0,"div",103)(1,"h2",104),d(2,"Add New Delivery"),r(),n(3,"form",105),_("ngSubmit",function(){u(e);let a=c(2);return p(a.addDeliveryRep())}),n(4,"div",106)(5,"div"),v(6,"input",107),h(7,ht,2,0,"p",108),r(),n(8,"div"),v(9,"input",109),h(10,vt,2,0,"p",108),r(),n(11,"div"),v(12,"input",110),h(13,xt,2,0,"p",108),r(),n(14,"div"),v(15,"input",111),h(16,ft,2,0,"p",108),r(),n(17,"div"),v(18,"input",112),h(19,bt,2,0,"p",108),r(),n(20,"div"),v(21,"input",113),h(22,Ct,2,0,"p",108),r(),n(23,"div"),v(24,"input",114),h(25,yt,2,0,"p",108),r(),n(26,"div")(27,"select",115)(28,"option",116),d(29,"Select Gender"),r(),n(30,"option",117),d(31,"Male"),r(),n(32,"option",118),d(33,"Female"),r()(),h(34,St,2,0,"p",108),r(),n(35,"div"),v(36,"input",119),h(37,Pt,2,0,"p",108),r(),n(38,"div"),v(39,"input",120),h(40,wt,2,0,"p",108),r(),n(41,"div",121)(42,"button",122),d(43," Add Delivery "),r()()()()()}if(i&2){let e,o,a,m,F,V,R,N,B,$,H,U,W,j,q,L,G,z,Z,K,x=c(2);s(3),l("formGroup",x.deliveryForm),s(3),l("ngClass",y(22,M,((e=x.deliveryForm.get("userName"))==null?null:e.invalid)&&((e=x.deliveryForm.get("userName"))==null?null:e.touched))),s(),l("ngIf",((o=x.deliveryForm.get("userName"))==null?null:o.invalid)&&((o=x.deliveryForm.get("userName"))==null?null:o.touched)),s(2),l("ngClass",y(24,M,((a=x.deliveryForm.get("email"))==null?null:a.invalid)&&((a=x.deliveryForm.get("email"))==null?null:a.touched))),s(),l("ngIf",((m=x.deliveryForm.get("email"))==null?null:m.invalid)&&((m=x.deliveryForm.get("email"))==null?null:m.touched)),s(2),l("ngClass",y(26,M,((F=x.deliveryForm.get("password"))==null?null:F.invalid)&&((F=x.deliveryForm.get("password"))==null?null:F.touched))),s(),l("ngIf",((V=x.deliveryForm.get("password"))==null?null:V.invalid)&&((V=x.deliveryForm.get("password"))==null?null:V.touched)),s(2),l("ngClass",y(28,M,((R=x.deliveryForm.get("phone"))==null?null:R.invalid)&&((R=x.deliveryForm.get("phone"))==null?null:R.touched))),s(),l("ngIf",((N=x.deliveryForm.get("phone"))==null?null:N.invalid)&&((N=x.deliveryForm.get("phone"))==null?null:N.touched)),s(2),l("ngClass",y(30,M,((B=x.deliveryForm.get("state"))==null?null:B.invalid)&&((B=x.deliveryForm.get("state"))==null?null:B.touched))),s(),l("ngIf",(($=x.deliveryForm.get("state"))==null?null:$.invalid)&&(($=x.deliveryForm.get("state"))==null?null:$.touched)),s(2),l("ngClass",y(32,M,((H=x.deliveryForm.get("governorate"))==null?null:H.invalid)&&((H=x.deliveryForm.get("governorate"))==null?null:H.touched))),s(),l("ngIf",((U=x.deliveryForm.get("governorate"))==null?null:U.invalid)&&((U=x.deliveryForm.get("governorate"))==null?null:U.touched)),s(2),l("ngClass",y(34,M,((W=x.deliveryForm.get("location"))==null?null:W.invalid)&&((W=x.deliveryForm.get("location"))==null?null:W.touched))),s(),l("ngIf",((j=x.deliveryForm.get("location"))==null?null:j.invalid)&&((j=x.deliveryForm.get("location"))==null?null:j.touched)),s(2),l("ngClass",y(36,M,((q=x.deliveryForm.get("gender"))==null?null:q.invalid)&&((q=x.deliveryForm.get("gender"))==null?null:q.touched))),s(7),l("ngIf",((L=x.deliveryForm.get("gender"))==null?null:L.invalid)&&((L=x.deliveryForm.get("gender"))==null?null:L.touched)),s(2),l("ngClass",y(38,M,((G=x.deliveryForm.get("birthDate"))==null?null:G.invalid)&&((G=x.deliveryForm.get("birthDate"))==null?null:G.touched))),s(),l("ngIf",((z=x.deliveryForm.get("birthDate"))==null?null:z.invalid)&&((z=x.deliveryForm.get("birthDate"))==null?null:z.touched)),s(2),l("ngClass",y(40,M,((Z=x.deliveryForm.get("nationalId"))==null?null:Z.invalid)&&((Z=x.deliveryForm.get("nationalId"))==null?null:Z.touched))),s(),l("ngIf",((K=x.deliveryForm.get("nationalId"))==null?null:K.invalid)&&((K=x.deliveryForm.get("nationalId"))==null?null:K.touched)),s(2),l("disabled",x.deliveryForm.invalid)}}function It(i,t){i&1&&(n(0,"div",35),v(1,"i",38),n(2,"p",37),d(3,"No delivery found"),r()())}function Mt(i,t){i&1&&(n(0,"div",35),v(1,"i",124),n(2,"p",37),d(3,"Loading..."),r()())}function Et(i,t){if(i&1){let e=f();n(0,"div",41),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.selectDeliveryRep(a))}),n(1,"div",42)(2,"div")(3,"h3",43),d(4),r(),n(5,"p",44),d(6),r(),n(7,"p",44),d(8),r()(),n(9,"div",45)(10,"span",46),d(11),r()()()()}if(i&2){let e=t.$implicit;s(4),g(" ",e.name," "),s(2),g("ID: ",e.id,""),s(2),g(" Orders Delivered: ",e.deliveredOrdersCount," "),s(2),l("ngClass",O(5,qe,e.status==="Active",e.status==="Inactive")),s(),g(" ",e.status," ")}}function Ot(i,t){if(i&1&&(n(0,"div",39),h(1,Et,12,8,"div",125),r()),i&2){let e=c(2);s(),l("ngForOf",e.paginatedDeliveryReps)}}function At(i,t){if(i&1){let e=f();n(0,"button",92),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.changeDeliveryRepsPage(a))}),d(1),r()}if(i&2){let e=t.$implicit,o=c(3);l("ngClass",O(2,ie,o.currentDeliveryRepsPage===e,o.currentDeliveryRepsPage!==e)),s(),g(" ",e," ")}}function kt(i,t){if(i&1){let e=f();n(0,"div",47)(1,"nav",48)(2,"button",89),_("click",function(){u(e);let a=c(2);return p(a.changeDeliveryRepsPage(a.currentDeliveryRepsPage-1))}),v(3,"i",50),r(),h(4,At,2,5,"button",90),n(5,"button",91),_("click",function(){u(e);let a=c(2);return p(a.changeDeliveryRepsPage(a.currentDeliveryRepsPage+1))}),v(6,"i",52),r()()()}if(i&2){let e=c(2);s(2),l("disabled",e.currentDeliveryRepsPage===1),s(2),l("ngForOf",e.getDeliveryRepsPageNumbers()),s(),l("disabled",e.currentDeliveryRepsPage===e.totalDeliveryRepsPages)}}function Tt(i,t){if(i&1&&(n(0,"p",95),d(1),r()),i&2){let e=c(3);s(),g(" Created By: ",e.selectedDeliveryRep.createdByAdmin," ")}}function Ft(i,t){if(i&1){let e=f();n(0,"div",54)(1,"div",93)(2,"h2",94),d(3),r(),n(4,"p",95),d(5),r(),n(6,"p",95),d(7),r(),n(8,"p",95),d(9),r(),h(10,Tt,2,1,"p",126),n(11,"div",96)(12,"label",62),d(13,"Update Status"),r(),n(14,"select",97),w("ngModelChange",function(a){u(e);let m=c(2);return P(m.selectedDeliveryRep.status,a)||(m.selectedDeliveryRep.status=a),p(a)}),_("change",function(){u(e);let a=c(2);return p(a.updateDeliveryRepStatus(a.selectedDeliveryRep))}),n(15,"option",98),d(16,"Active"),r(),n(17,"option",99),d(18,"Inactive"),r()()(),n(19,"div",127)(20,"button",68),_("click",function(){u(e);let a=c(2);return p(a.selectedDeliveryRep=null)}),d(21," Close "),r()()()()}if(i&2){let e=c(2);s(3),g(" Delivery Rep ID: ",e.selectedDeliveryRep.id," "),s(2),g("Name: ",e.selectedDeliveryRep.name,""),s(2),g(" Hire Age: ",e.selectedDeliveryRep.hireAge," "),s(2),g(" Orders Delivered: ",e.selectedDeliveryRep.deliveredOrdersCount," "),s(),l("ngIf",e.selectedDeliveryRep.createdByAdmin),s(4),S("ngModel",e.selectedDeliveryRep.status)}}function Vt(i,t){if(i&1){let e=f();n(0,"div",30)(1,"h1",27),d(2," All Delivery "),r(),n(3,"button",101),_("click",function(){u(e);let a=c();return p(a.showAddForm=!a.showAddForm)}),d(4),r(),h(5,Dt,44,42,"div",102)(6,It,4,0,"div",31)(7,Mt,4,0,"div",31)(8,Ot,2,1,"div",32)(9,kt,7,3,"div",33)(10,Ft,22,6,"div",34),r()}if(i&2){let e=c();s(4),g(" ",e.showAddForm?"Cancel":"Add Delivery"," "),s(),l("ngIf",e.showAddForm),s(),l("ngIf",e.paginatedDeliveryReps.length===0&&!e.loading),s(),l("ngIf",e.loading),s(),l("ngIf",!e.showAddForm&&!e.loading),s(),l("ngIf",e.paginatedDeliveryReps.length!==0&&!e.showAddForm&&!e.loading),s(),l("ngIf",e.selectedDeliveryRep)}}function Rt(i,t){i&1&&(n(0,"div",141)(1,"div"),d(2,"Image"),r(),n(3,"div"),d(4,"Title"),r(),n(5,"div"),d(6,"Feedback"),r(),n(7,"div"),d(8,"Status"),r()())}function Nt(i,t){i&1&&(n(0,"div",35),v(1,"i",36),n(2,"p",37),d(3," Loading products... "),r()())}function Bt(i,t){i&1&&(n(0,"div",35),v(1,"i",38),n(2,"p",37),d(3,"No products found"),r()())}function $t(i,t){if(i&1){let e=f();n(0,"div",143),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.selectProduct(a))}),n(1,"div"),v(2,"img",144),r(),n(3,"div",69)(4,"span",84),d(5),r()(),n(6,"div",69)(7,"span",85),d(8),r()(),n(9,"div",69)(10,"span",145),d(11),r()()()}if(i&2){let e=t.$implicit;s(2),l("src",e.image||"https://via.placeholder.com/300x300?text=300+x+300",ee)("alt",e.title),s(2),l("title",e.title),s(),g(" ",e.title," "),s(3),g(" ",e.feedback," "),s(2),l("ngClass",T(7,Ge,e.status==="Active",e.status==="Banned",e.status==="OutOfStock",e.status==="Pending")),s(),g(" ",e.status==="OutOfStock"?"Out of Stock":e.status==="Active"?"Active":e.status==="Banned"?"Banned":"Pending"," ")}}function Ht(i,t){if(i&1&&(n(0,"div"),h(1,$t,12,12,"div",142),r()),i&2){let e=c(2);s(),l("ngForOf",e.paginatedProducts)("ngForTrackBy",e.trackByProductId)}}function Ut(i,t){if(i&1){let e=f();n(0,"button",92),_("click",function(){let a=u(e).$implicit,m=c(3);return p(m.changePage(a))}),d(1),r()}if(i&2){let e=t.$implicit,o=c(3);l("ngClass",O(2,ie,o.currentPage===e,o.currentPage!==e)),s(),g(" ",e," ")}}function Wt(i,t){if(i&1){let e=f();n(0,"div",47)(1,"nav",48)(2,"button",89),_("click",function(){u(e);let a=c(2);return p(a.changePage(a.currentPage-1))}),v(3,"i",50),r(),h(4,Ut,2,5,"button",90),n(5,"button",91),_("click",function(){u(e);let a=c(2);return p(a.changePage(a.currentPage+1))}),v(6,"i",52),r()()()}if(i&2){let e=c(2);s(2),l("disabled",e.currentPage===1),s(2),l("ngForOf",e.pageNumbers),s(),l("disabled",e.currentPage===e.totalPages)}}function jt(i,t){if(i&1&&(n(0,"option",77),d(1),r()),i&2){let e=t.$implicit;l("value",e),s(),g(" ",e==="OutOfStock"?"Out of Stock":e==="Active"?"Active":"Banned"," ")}}function qt(i,t){if(i&1){let e=f();n(0,"div",54)(1,"div",93)(2,"div",61),v(3,"img",146),n(4,"h2",147),d(5),r(),n(6,"p",148),d(7),r(),n(8,"p",149),d(9),r(),n(10,"p",149),d(11),r(),n(12,"p",150),d(13),r()(),n(14,"div",61)(15,"label",62),d(16,"Update Status"),r(),n(17,"select",151),w("ngModelChange",function(a){u(e);let m=c(2);return P(m.selectedProduct.status,a)||(m.selectedProduct.status=a),p(a)}),h(18,jt,2,2,"option",74),r()(),n(19,"div",152)(20,"button",68),_("click",function(){u(e);let a=c(2);return p(a.closeProductModal())}),d(21," Cancel "),r(),n(22,"button",153),_("click",function(){u(e);let a=c(2);return p(a.saveProductStatus())}),d(23," Save "),r()()()()}if(i&2){let e=c(2);s(3),l("src",e.selectedProduct.image||"https://via.placeholder.com/300x300?text=300+x+300",ee)("alt",e.selectedProduct.title),s(2),k(" #",e.selectedProduct.id," - ",e.selectedProduct.title," "),s(2),g(" Feedback: ",e.selectedProduct.feedback," "),s(2),g(" Quantity: ",e.selectedProduct.quantity," "),s(2),k(" Merchant: ",e.selectedProduct.merchantName," (ID: ",e.selectedProduct.merchantId,") "),s(),l("ngClass",T(12,ze,e.selectedProduct.status==="Active",e.selectedProduct.status==="OutOfStock",e.selectedProduct.status==="Banned",e.selectedProduct.status==="Pending")),s(),g(" Current Status: ",e.selectedProduct.status==="OutOfStock"?"Out of Stock":e.selectedProduct.status==="Active"?"Active":e.selectedProduct.status==="Banned"?"Banned":"Pending"," "),s(4),S("ngModel",e.selectedProduct.status),s(),l("ngForOf",e.getValidStatusOptions(e.selectedProduct.status))}}function Lt(i,t){if(i&1){let e=f();n(0,"div",128)(1,"div",129)(2,"div",130)(3,"div",131)(4,"label",62),d(5,"Filter by Category"),r(),n(6,"select",132),w("ngModelChange",function(a){u(e);let m=c();return P(m.categoryFilter,a)||(m.categoryFilter=a),p(a)}),n(7,"option",133),d(8,"All Categories"),r(),n(9,"option",134),d(10,"Electronics"),r(),n(11,"option",135),d(12,"Clothing"),r(),n(13,"option",136),d(14,"Accessories"),r()()(),n(15,"div",131)(16,"label",62),d(17,"Search by Product ID"),r(),n(18,"input",137),w("ngModelChange",function(a){u(e);let m=c();return P(m.productIdFilter,a)||(m.productIdFilter=a),p(a)}),_("input",function(){u(e);let a=c();return p(a.filterProducts())}),r()(),n(19,"div",131)(20,"label",62),d(21,"Sort By"),r(),n(22,"select",97),w("ngModelChange",function(a){u(e);let m=c();return P(m.sortBy,a)||(m.sortBy=a),p(a)}),_("change",function(){u(e);let a=c();return p(a.filterProducts())}),n(23,"option",138),d(24,"A-Z"),r(),n(25,"option",139),d(26,"Z-A"),r()()()()(),n(27,"div",131)(28,"div",80),h(29,Rt,9,0,"div",140)(30,Nt,4,0,"div",31)(31,Bt,4,0,"div",31)(32,Ht,2,2,"div",25),r(),h(33,Wt,7,3,"div",33)(34,qt,24,17,"div",34),r()()}if(i&2){let e=c();l("ngClass",y(10,Le,e.selectedProduct)),s(6),S("ngModel",e.categoryFilter),s(12),S("ngModel",e.productIdFilter),s(4),S("ngModel",e.sortBy),s(7),l("ngIf",!e.loading),s(),l("ngIf",e.loading),s(),l("ngIf",!e.loading&&e.paginatedProducts.length===0),s(),l("ngIf",!e.loading),s(),l("ngIf",!e.loading&&e.paginatedProducts.length!==0),s(),l("ngIf",e.selectedProduct)}}function Gt(i,t){i&1&&(n(0,"div",35),v(1,"i",157),n(2,"p",37),d(3,"Loading orders..."),r()())}function zt(i,t){i&1&&(n(0,"div",35),v(1,"i",38),n(2,"p",37),d(3,"No orders found"),r()())}function Zt(i,t){if(i&1&&(n(0,"div",158)(1,"span",159),d(2,"\u2718"),r(),n(3,"span",160),d(4),r()()),i&2){let e=c(3);s(4),I(e.errorMessageOrders)}}function Kt(i,t){if(i&1){let e=f();n(0,"div",162),_("click",function(){let a=u(e).$implicit,m=c(4);return p(m.selectOrder(a))}),n(1,"div",42)(2,"div")(3,"h3",43),d(4),r(),n(5,"p",44),d(6),r(),n(7,"p",44),d(8),r()(),n(9,"div",45)(10,"span",46),d(11),r()()()()}if(i&2){let e=t.$implicit;s(4),g(" ",e.userName," "),s(2),I(e.address),s(2),g("Order #",e.id,""),s(2),l("ngClass",T(5,Ve,e.status==="Pending",e.status==="Preparing",e.status==="Recieved",e.status==="OnWay")),s(),g(" ",e.status," ")}}function Yt(i,t){if(i&1&&(n(0,"div",39),h(1,Kt,12,10,"div",161),r()),i&2){let e=c(3);s(),l("ngForOf",e.paginatedOrders)}}function Qt(i,t){if(i&1){let e=f();n(0,"button",92),_("click",function(){let a=u(e).$implicit,m=c(4);return p(m.changeOrdersPage(a))}),d(1),r()}if(i&2){let e=t.$implicit,o=c(4);l("ngClass",O(2,Ze,o.currentOrdersPage===e,o.currentOrdersPage!==e)),s(),g(" ",e," ")}}function Jt(i,t){if(i&1){let e=f();n(0,"div",47)(1,"nav",48)(2,"button",163),_("click",function(){u(e);let a=c(3);return p(a.changeOrdersPage(a.currentOrdersPage-1))}),v(3,"i",50),r(),h(4,Qt,2,5,"button",90),n(5,"button",163),_("click",function(){u(e);let a=c(3);return p(a.changeOrdersPage(a.currentOrdersPage+1))}),v(6,"i",52),r()()()}if(i&2){let e=c(3);s(2),l("disabled",e.currentOrdersPage===1),s(2),l("ngForOf",e.getOrdersPageNumbers()),s(),l("disabled",e.currentOrdersPage===e.totalOrdersPages)}}function Xt(i,t){if(i&1&&(n(0,"div",30)(1,"h2",155),d(2," All Orders "),r(),h(3,Gt,4,0,"div",31)(4,zt,4,0,"div",31)(5,Zt,5,1,"div",156)(6,Yt,2,1,"div",32)(7,Jt,7,3,"div",33),r()),i&2){let e=c(2);s(3),l("ngIf",e.loading),s(),l("ngIf",!e.loading&&e.errorMessageOrders==="No orders found"&&e.paginatedOrders.length===0),s(),l("ngIf",!e.loading&&e.errorMessageOrders&&e.errorMessageOrders!=="No orders found"),s(),l("ngIf",!e.loading&&e.paginatedOrders.length>0),s(),l("ngIf",!e.loading&&e.paginatedOrders.length>0)}}function ei(i,t){if(i&1&&(n(0,"div",182)(1,"span",159),d(2,"\u2713"),r(),n(3,"span",160),d(4),r()()),i&2){let e=c(3);s(4),I(e.successMessage)}}function ti(i,t){if(i&1&&(n(0,"div",183)(1,"span",159),d(2,"\u2718"),r(),n(3,"span",160),d(4),r()()),i&2){let e=c(3);s(4),I(e.errorMessageOrders)}}function ii(i,t){if(i&1&&(n(0,"span"),d(1),r()),i&2){let e=c(3);s(),I(e.selectedOrder.address)}}function ni(i,t){if(i&1){let e=f();n(0,"button",184),_("click",function(){u(e);let a=c(3);return p(a.startEditingAddress())}),v(1,"i",71),r()}}function ri(i,t){if(i&1){let e=f();n(0,"div",185)(1,"input",186),w("ngModelChange",function(a){u(e);let m=c(3);return P(m.newAddress,a)||(m.newAddress=a),p(a)}),r(),n(2,"div",187)(3,"button",188),_("click",function(){u(e);let a=c(3);return p(a.saveAddress())}),d(4," Save "),r(),n(5,"button",181),_("click",function(){u(e);let a=c(3);return p(a.cancelEditingAddress())}),d(6," Cancel "),r()()()}if(i&2){let e=c(3);s(),S("ngModel",e.newAddress)}}function si(i,t){if(i&1&&(n(0,"span"),d(1),r()),i&2){let e=c(3);s(),I(e.selectedOrder.phone)}}function ai(i,t){if(i&1){let e=f();n(0,"button",184),_("click",function(){u(e);let a=c(3);return p(a.startEditingPhone())}),v(1,"i",71),r()}}function oi(i,t){if(i&1){let e=f();n(0,"div",185)(1,"input",189),w("ngModelChange",function(a){u(e);let m=c(3);return P(m.newPhone,a)||(m.newPhone=a),p(a)}),r(),n(2,"div",187)(3,"button",188),_("click",function(){u(e);let a=c(3);return p(a.savePhone())}),d(4," Save "),r(),n(5,"button",181),_("click",function(){u(e);let a=c(3);return p(a.cancelEditingPhone())}),d(6," Cancel "),r()()()}if(i&2){let e=c(3);s(),S("ngModel",e.newPhone)}}function di(i,t){if(i&1&&(n(0,"span",46),d(1),r()),i&2){let e=c(3);l("ngClass",T(2,Ve,e.selectedOrder.status==="Pending",e.selectedOrder.status==="Preparing",e.selectedOrder.status==="Recieved",e.selectedOrder.status==="OnWay")),s(),g(" ",e.selectedOrder.status," ")}}function li(i,t){if(i&1){let e=f();n(0,"button",184),_("click",function(){u(e);let a=c(3);return p(a.startEditingStatus())}),v(1,"i",71),r()}}function ci(i,t){if(i&1&&(n(0,"option",77),d(1),r()),i&2){let e=t.$implicit;l("value",e),s(),g(" ",e," ")}}function mi(i,t){if(i&1){let e=f();n(0,"div",185)(1,"select",190),w("ngModelChange",function(a){u(e);let m=c(3);return P(m.newStatus,a)||(m.newStatus=a),p(a)}),h(2,ci,2,2,"option",74),r(),n(3,"div",187)(4,"button",188),_("click",function(){u(e);let a=c(3);return p(a.saveStatus())}),d(5," Save "),r(),n(6,"button",181),_("click",function(){u(e);let a=c(3);return p(a.cancelEditingStatus())}),d(7," Cancel "),r()()()}if(i&2){let e=c(3);s(),S("ngModel",e.newStatus),s(),l("ngForOf",e.statusOptions)}}function ui(i,t){if(i&1&&(n(0,"li"),d(1),r()),i&2){let e=t.$implicit,o=t.index,a=c(4);s(),k(" ",e," x ",a.selectedOrderDetails.quantity[o]," ")}}function pi(i,t){i&1&&(n(0,"li"),d(1," No items found for this order. "),r())}function _i(i,t){if(i&1&&(n(0,"div")(1,"h3",172),d(2," Order Items "),r(),n(3,"ul",191),h(4,ui,2,2,"li",86)(5,pi,2,0,"li",25),r(),n(6,"p",192),d(7),Q(8,"number"),r()()),i&2){let e=c(3);s(4),l("ngForOf",e.selectedOrderDetails.productsName),s(),l("ngIf",e.selectedOrderDetails.productsName.length===0),s(2),g(" Total Price: $",J(8,3,e.selectedOrderDetails.totalPrice,"1.2-2")," ")}}function gi(i,t){if(i&1){let e=f();n(0,"div",164)(1,"div",165)(2,"div",166)(3,"h2",167),d(4),r(),n(5,"button",168),_("click",function(){u(e);let a=c(2);return p(a.cancelOrderEdit())}),v(6,"i",57),r()(),h(7,ei,5,1,"div",169)(8,ti,5,1,"div",170),n(9,"div",171)(10,"div")(11,"h3",172),d(12," Customer Details "),r(),n(13,"p",95)(14,"span",173),d(15,"Name:"),r(),d(16),r(),n(17,"div",174)(18,"p",95)(19,"span",173),d(20,"Address:"),r(),h(21,ii,2,1,"span",25),r(),h(22,ni,2,0,"button",175),r(),h(23,ri,7,1,"div",176),n(24,"div",174)(25,"p",95)(26,"span",173),d(27,"Phone:"),r(),h(28,si,2,1,"span",25),r(),h(29,ai,2,0,"button",175),r(),h(30,oi,7,1,"div",176),n(31,"p",95)(32,"span",173),d(33,"Delivery:"),r(),d(34),r(),n(35,"div",177)(36,"span",178),d(37,"Status:"),r(),h(38,di,2,7,"span",179)(39,li,2,0,"button",175),r(),h(40,mi,8,2,"div",176),r(),h(41,_i,9,6,"div",25),r(),n(42,"div",180)(43,"button",181),_("click",function(){u(e);let a=c(2);return p(a.cancelOrderEdit())}),d(44," Close "),r()()()()}if(i&2){let e=c(2);s(4),g(" Order #",e.selectedOrder.id," "),s(3),l("ngIf",e.successMessage),s(),l("ngIf",e.errorMessageOrders),s(8),g(" ",e.selectedOrder.userName," "),s(5),l("ngIf",!e.editingAddress),s(),l("ngIf",!e.editingAddress),s(),l("ngIf",e.editingAddress),s(5),l("ngIf",!e.editingPhone),s(),l("ngIf",!e.editingPhone),s(),l("ngIf",e.editingPhone),s(4),k(" ",e.selectedOrder.deliveryName," (ID: ",e.selectedOrder.deliveryId,") "),s(4),l("ngIf",!e.editingStatus),s(),l("ngIf",!e.editingStatus),s(),l("ngIf",e.editingStatus),s(),l("ngIf",e.selectedOrderDetails)}}function hi(i,t){if(i&1&&(n(0,"div"),h(1,Xt,8,5,"div",23)(2,gi,45,16,"div",154),r()),i&2){let e=c();s(),l("ngIf",!e.selectedOrder),s(),l("ngIf",e.selectedOrder)}}var ke=class i{constructor(t,e){this.adminService=t;this._UserAuthService=e;this.deliveryForm=new Ce({userName:new D("",[b.required,b.pattern(/^[a-zA-Z0-9]+$/)]),email:new D("",[b.required,b.email]),password:new D("",[b.required,b.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&#^~]{8,}$/)]),phone:new D("",[b.required,b.pattern(/^01[0125][0-9]{8}$/)]),state:new D("",[b.required]),governorate:new D("",[b.required]),location:new D("",[b.required]),gender:new D("Male",[b.required]),birthDate:new D("",[b.required]),nationalId:new D("",[b.required,b.pattern(/^[0-9]{14}$/)])})}adminPersonName="";adminId="";decodedToken;orders=[];paginatedOrders=[];selectedOrder=null;selectedOrderDetails=null;errorMessage="";errorMessageCutomers="";errorMessageDeliveryReps="";errorMessageMerchants="";errorMessageProducts="";errorMessageOrders="";currentOrdersPage=1;ordersPerPage=3;totalOrdersPages=1;currentSection="home";sidebarOpen=!1;successMessage="";editingAddress=!1;editingPhone=!1;editingStatus=!1;newAddress="";newPhone="";newStatus="";statusOptions=["Pending","Preparing","OnWay","Recieved"];customers=[];paginatedCustomers=[];selectedCustomer=null;currentCustomersPage=1;customersPerPage=3;totalCustomersPages=1;editingCustomerStatus=!1;newCustomerStatus="Active";customerStatusOptions=["Active","Inactive","Banned"];merchants=[];paginatedMerchants=[];selectedMerchant=null;currentMerchantsPage=1;merchantsPerPage=3;totalMerchantsPages=1;deliveryReps=[];paginatedDeliveryReps=[];selectedDeliveryRep=null;showAddForm=!1;loading=!1;deliveryForm;currentDeliveryRepsPage=1;deliveryRepsPerPage=3;totalDeliveryRepsPages=1;products=[];filteredProducts=[];paginatedProducts=[];selectedProduct=null;categoryFilter="";productIdFilter="";sortBy="title-asc";currentPage=1;itemsPerPage=3;totalPages=1;ngOnInit(){let t=localStorage.getItem("token")||"";if(!t){this.errorMessage="No authentication token found. Please log in.",console.error("No token found in localStorage");return}try{this.decodedToken=(0,Te.jwtDecode)(t),this.adminPersonName=this.decodedToken.Name,this.adminId=this.decodedToken.sub||this.decodedToken.id||""}catch(e){this.errorMessage="Invalid token. Please log in again.",console.error("Invalid token:",e)}this.loadCustomers(),this.loadDeliveryReps(),this.loadOrders(),this.loadMerchants(),this.adminService.getProducts().subscribe({next:e=>{this.products=e,this.errorMessage=e.length===0?"No products found.":"",this.filterProducts()},error:e=>{this.errorMessage="Failed to load products. Please try again later.",this.products=[],this.filterProducts(),console.error("Error fetching products:",e)}}),this.updateMerchantsPagination(),this.updateDeliveryRepsPagination()}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}loadCustomers(){this.loading=!0,this.errorMessageCutomers="",this.successMessage="",this.customers=[],this.paginatedCustomers=[],this.adminService.getAllCustomers().subscribe({next:t=>{this.customers=t,this.errorMessageCutomers=t.length===0?"No customers found.":"",this.updateCustomersPagination(),this.updateDisplayedCustomers(),this.loading=!1},error:t=>{this.errorMessageCutomers="Failed to load customers. Please try again later.",this.customers=[],this.paginatedCustomers=[],this.updateCustomersPagination(),this.loading=!1,console.error("Error fetching customers:",t)}})}selectCustomer(t){this.selectedCustomer=C({},t),this.newCustomerStatus=t.status,this.errorMessageCutomers="",this.successMessage="",this.editingCustomerStatus=!1,this.adminService.getCustomerById(t.customerId).subscribe({next:e=>{e.length>0&&(this.selectedCustomer=C({},e[0]),this.newCustomerStatus=this.selectedCustomer.status)},error:e=>{this.errorMessageCutomers="Failed to load customer details.",console.error("Error fetching customer details:",e)}})}startEditingCustomerStatus(){this.editingCustomerStatus=!0,this.errorMessageCutomers="",this.successMessage=""}saveCustomerStatus(){if(!this.selectedCustomer||!this.customerStatusOptions.includes(this.newCustomerStatus)){this.errorMessageCutomers="Invalid status selected.";return}this.adminService.updateCustomerStatus(this.selectedCustomer.customerId,this.newCustomerStatus).subscribe({next:t=>{E.default.fire({icon:"success",title:"Success",text:t.message,confirmButtonColor:"#3085d6"}),this.selectedCustomer.status=this.newCustomerStatus,this.updateLocalCustomer(this.selectedCustomer),this.editingCustomerStatus=!1,this.successMessage=t.message},error:t=>{this.errorMessage="Failed to update customer status. Please try again.",E.default.fire({icon:"error",title:"Error",text:"Failed to update customer status.",confirmButtonColor:"#d33"}),console.error("Error updating customer status:",t)}})}cancelEditingCustomerStatus(){this.selectedCustomer&&(this.newCustomerStatus=this.selectedCustomer.status),this.editingCustomerStatus=!1,this.errorMessageCutomers="",this.successMessage=""}cancelCustomerEdit(){this.selectedCustomer=null,this.editingCustomerStatus=!1,this.errorMessageCutomers="",this.successMessage=""}updateLocalCustomer(t){let e=this.customers.findIndex(o=>o.customerId===t.customerId);e!==-1&&(this.customers=[...this.customers.slice(0,e),C({},t),...this.customers.slice(e+1)],this.updateCustomersPagination(),this.updateDisplayedCustomers())}updateCustomersPagination(){this.totalCustomersPages=Math.ceil(this.customers.length/this.customersPerPage),this.currentCustomersPage=Math.min(this.currentCustomersPage,this.totalCustomersPages||1),this.updateDisplayedCustomers()}updateDisplayedCustomers(){let t=(this.currentCustomersPage-1)*this.customersPerPage,e=t+this.customersPerPage;this.paginatedCustomers=this.customers.slice(t,e)}changeCustomersPage(t){t>=1&&t<=this.totalCustomersPages&&(this.currentCustomersPage=t,this.updateDisplayedCustomers())}getCustomersPageNumbers(){let e;this.totalCustomersPages<=4?e=1:this.currentCustomersPage<=this.totalCustomersPages-3?e=this.currentCustomersPage:e=Math.max(1,this.totalCustomersPages-3);let o=Math.min(this.totalCustomersPages,e+4-1),a=[];for(let m=e;m<=o;m++)a.push(m);return a}trackByCustomerId(t,e){return e.customerId}loadOrders(){this.loading=!0,this.errorMessageOrders="",this.successMessage="",this.adminService.getAllOrders().subscribe({next:t=>{this.orders=t,this.errorMessageOrders=t.length===0?"No orders found":"",this.updateOrdersPagination(),this.loading=!1},error:t=>{t.error?.message==="No orders found for this delivery person."?this.errorMessageOrders="No orders found":this.errorMessageOrders="Failed to load orders. Please try again later.",this.orders=[],this.updateOrdersPagination(),this.loading=!1,console.error("Error fetching orders:",t)}})}selectOrder(t){this.selectedOrder=C({},t),this.newAddress=t.address,this.newPhone=t.phone,this.newStatus=t.status,this.errorMessageOrders="",this.successMessage="",this.editingAddress=!1,this.editingPhone=!1,this.editingStatus=!1,this.adminService.getSpecificOrder(t.id).subscribe({next:e=>{e.length>0&&(this.selectedOrder=C({},e[0]),this.newAddress=this.selectedOrder.address,this.newPhone=this.selectedOrder.phone,this.newStatus=this.selectedOrder.status)},error:e=>{this.errorMessageOrders="Failed to load specific order details.",console.error("Error fetching specific order:",e)}}),this.adminService.getOrderDetails(t.id).subscribe({next:e=>{this.selectedOrderDetails=e},error:e=>{this.errorMessageOrders="Failed to load order details.",console.error("Error fetching order details:",e)}})}startEditingAddress(){this.editingAddress=!0,this.errorMessageOrders="",this.successMessage=""}startEditingPhone(){this.editingPhone=!0,this.errorMessageOrders="",this.successMessage=""}startEditingStatus(){this.editingStatus=!0,this.errorMessageOrders="",this.successMessage=""}saveAddress(){if(!this.selectedOrder||!this.newAddress.trim()){this.errorMessageOrders="Address cannot be empty.";return}this.adminService.updateOrderAddress(this.selectedOrder.id,this.newAddress).subscribe({next:t=>{this.successMessage=t.message,this.selectedOrder.address=this.newAddress,this.updateLocalOrder(this.selectedOrder),this.editingAddress=!1},error:t=>{this.errorMessageOrders="Failed to update address. Please try again.",console.error("Error updating address:",t)}})}savePhone(){if(!this.selectedOrder||!this.newPhone.trim()){this.errorMessageOrders="Phone number cannot be empty.";return}if(!/^\d{10,}$/.test(this.newPhone)){this.errorMessageOrders="Phone number must be at least 10 digits.";return}this.adminService.updateOrderPhone(this.selectedOrder.id,this.newPhone).subscribe({next:t=>{this.successMessage=t.message,this.selectedOrder.phone=this.newPhone,this.updateLocalOrder(this.selectedOrder),this.editingPhone=!1},error:t=>{this.errorMessageOrders="Failed to update phone. Please try again.",console.error("Error updating phone:",t)}})}saveStatus(){if(!this.selectedOrder||!this.statusOptions.includes(this.newStatus)){this.errorMessageOrders="Invalid status selected.";return}this.adminService.updateOrderStatus(this.selectedOrder.id,this.newStatus).subscribe({next:t=>{this.successMessage=t.message,this.selectedOrder.status=this.newStatus,this.updateLocalOrder(this.selectedOrder),this.editingStatus=!1},error:t=>{this.errorMessageOrders="Failed to update status. Please try again.",console.error("Error updating status:",t)}})}cancelEditingAddress(){this.selectedOrder&&(this.newAddress=this.selectedOrder.address),this.editingAddress=!1,this.errorMessageOrders="",this.successMessage=""}cancelEditingPhone(){this.selectedOrder&&(this.newPhone=this.selectedOrder.phone),this.editingPhone=!1,this.errorMessageOrders="",this.successMessage=""}cancelEditingStatus(){this.selectedOrder&&(this.newStatus=this.selectedOrder.status),this.editingStatus=!1,this.errorMessageOrders="",this.successMessage=""}cancelOrderEdit(){this.selectedOrder=null,this.selectedOrderDetails=null,this.editingAddress=!1,this.editingPhone=!1,this.editingStatus=!1,this.errorMessageOrders="",this.successMessage=""}updateLocalOrder(t){let e=this.orders.findIndex(o=>o.id===t.id);e!==-1&&(this.orders[e]=C({},t),this.updateOrdersPagination())}updateOrdersPagination(){this.totalOrdersPages=Math.ceil(this.orders.length/this.ordersPerPage),this.currentOrdersPage=Math.min(this.currentOrdersPage,this.totalOrdersPages||1),this.updateDisplayedOrders()}updateDisplayedOrders(){let t=(this.currentOrdersPage-1)*this.ordersPerPage,e=t+this.ordersPerPage;this.paginatedOrders=this.orders.slice(t,e)}changeOrdersPage(t){t>=1&&t<=this.totalOrdersPages&&(this.currentOrdersPage=t,this.updateDisplayedOrders())}getOrdersPageNumbers(){let e;this.totalOrdersPages<=4?e=1:this.currentOrdersPage<=this.totalOrdersPages-3?e=this.currentOrdersPage:e=Math.max(1,this.totalOrdersPages-3);let o=Math.min(this.totalOrdersPages,e+4-1),a=[];for(let m=e;m<=o;m++)a.push(m);return a}loadDeliveryReps(){this.loading=!0,this.errorMessageDeliveryReps="",this.adminService.getDeliveryReps().subscribe({next:t=>{this.deliveryReps=t,this.errorMessageDeliveryReps=t.length===0?"No delivery reps found":"",this.updateDeliveryRepsPagination(),this.loading=!1},error:t=>{this.errorMessageDeliveryReps="Failed to load delivery reps. Please try again later.",this.deliveryReps=[],this.updateDeliveryRepsPagination(),this.loading=!1,console.error("Error fetching delivery reps:",t)}})}selectDeliveryRep(t){this.selectedDeliveryRep=C({},t),this.adminService.getDeliveryRepById(t.id).subscribe({next:e=>{e.length>0&&(this.selectedDeliveryRep=C({},e[0]))},error:e=>{this.errorMessageDeliveryReps="Failed to load delivery rep details.",console.error("Error fetching delivery rep:",e)}})}addDeliveryRep(){if(this.deliveryForm.valid){let t=this.deliveryForm.value,e={userName:t.userName,email:t.email,password:t.password,phone:t.phone,state:t.state,governorate:t.governorate,location:t.location,gender:t.governorate,birthDate:new Date(t.birthDate).toISOString(),nationalId:t.nationalId,adminId:this.adminId};this.adminService.addDeliveryRep(e).subscribe({next:o=>{E.default.fire({icon:"success",title:"Success",text:o.message,confirmButtonColor:"#3085d6"}),this.deliveryForm.reset({gender:"Male"}),this.showAddForm=!1,this.loadDeliveryReps()},error:o=>{E.default.fire({icon:"error",title:"Error",text:o.error?.message,confirmButtonColor:"#d33"}),console.error("Error adding delivery rep:",o)}})}else E.default.fire({icon:"warning",title:"Invalid Form",text:"Please fill in all required fields correctly.",confirmButtonColor:"#3085d6"}),this.deliveryForm.markAllAsTouched()}updateDeliveryRepStatus(t){this.adminService.updateDeliveryRepStatus(t.id,t.status).subscribe({next:()=>{this.successMessage="Delivery rep status updated successfully.",this.loadDeliveryReps()},error:e=>{this.errorMessageDeliveryReps="Failed to update delivery rep status.",console.error("Error updating delivery rep status:",e)}})}updateDeliveryRepsPagination(){this.totalDeliveryRepsPages=Math.ceil(this.deliveryReps.length/this.deliveryRepsPerPage),this.currentDeliveryRepsPage=Math.min(this.currentDeliveryRepsPage,this.totalDeliveryRepsPages||1),this.updateDisplayedDeliveryReps()}updateDisplayedDeliveryReps(){let t=(this.currentDeliveryRepsPage-1)*this.deliveryRepsPerPage,e=t+this.deliveryRepsPerPage;this.paginatedDeliveryReps=this.deliveryReps.slice(t,e)}changeDeliveryRepsPage(t){t>=1&&t<=this.totalDeliveryRepsPages&&(this.currentDeliveryRepsPage=t,this.updateDisplayedDeliveryReps())}getDeliveryRepsPageNumbers(){let e;this.currentDeliveryRepsPage<=this.totalDeliveryRepsPages-3?e=this.currentDeliveryRepsPage:e=Math.max(1,this.totalDeliveryRepsPages-3);let o=Math.min(this.totalDeliveryRepsPages,e+4-1),a=[];for(let m=e;m<=o;m++)a.push(m);return a}loadMerchants(){this.loading=!0,this.errorMessageMerchants="",this.successMessage="",this.merchants=[],this.paginatedMerchants=[],this.adminService.getAllMerchants().subscribe({next:t=>{this.merchants=t,this.errorMessageMerchants=t.length===0?"No merchants found.":"",this.updateMerchantsPagination(),this.loading=!1},error:t=>{this.errorMessageMerchants="Failed to load merchants. Please try again later.",this.merchants=[],this.updateMerchantsPagination(),this.loading=!1,console.error("Error fetching merchants:",t)}})}selectMerchant(t){this.selectedMerchant=C({},t),this.errorMessageMerchants="",this.successMessage="",this.adminService.getMerchantById(t.merchantId).subscribe({next:e=>{e.length>0&&(this.selectedMerchant=C({},e[0]))},error:e=>{this.errorMessageMerchants="Failed to load merchant details.",console.error("Error fetching merchant details:",e)}})}updateMerchantStatus(t){if(!this.selectedMerchant){this.errorMessageMerchants="No merchant selected.";return}this.adminService.updateMerchantStatus(this.selectedMerchant.merchantId,t.status).subscribe({next:e=>{E.default.fire({icon:"success",title:"Success",text:e.message,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});let o=this.merchants.findIndex(a=>a.merchantId===this.selectedMerchant.merchantId);o!==-1&&(this.merchants[o]=C({},this.selectedMerchant)),this.updateMerchantsPagination()},error:e=>{E.default.fire({icon:"error",title:"Error",text:e.error?.message||"Failed to update merchant status. Please try again.",confirmButtonColor:"#d33",confirmButtonText:"OK"}),console.error("Error updating merchant status:",e)}})}updateMerchantsPagination(){this.totalMerchantsPages=Math.ceil(this.merchants.length/this.merchantsPerPage),this.currentMerchantsPage=Math.min(this.currentMerchantsPage,this.totalMerchantsPages||1),this.updateDisplayedMerchants()}updateDisplayedMerchants(){let t=(this.currentMerchantsPage-1)*this.merchantsPerPage,e=t+this.merchantsPerPage;this.paginatedMerchants=this.merchants.slice(t,e)}changeMerchantsPage(t){t>=1&&t<=this.totalMerchantsPages&&(this.currentMerchantsPage=t,this.updateDisplayedMerchants())}getMerchantsPageNumbers(){let e;this.currentMerchantsPage<=this.totalMerchantsPages-3?e=this.currentMerchantsPage:e=Math.max(1,this.totalMerchantsPages-3);let o=Math.min(this.totalMerchantsPages,e+4-1),a=[];for(let m=e;m<=o;m++)a.push(m);return a}calculateMerchantEarnings(t){let e=0,o=this.orders.filter(a=>a.status==="Recieved");return e}selectProduct(t){this.selectedProduct={id:t.id,title:t.title,feedback:t.feedback,status:t.status,quantity:t.quantity,merchantName:t.merchantName,merchantId:t.merchantId,image:t.image}}closeProductModal(){this.selectedProduct=null}getValidStatusOptions(t){if(!t)return[];let e=["Banned"];return t==="Pending"&&e.push("Active"),t==="Banned"&&e.push("Active"),e}saveProductStatus(){if(this.selectedProduct){let t=this.selectedProduct;this.adminService.updateProductStatus(t.id,t.status).subscribe({next:e=>{E.default.fire({icon:"success",title:"Success",text:e.message||"Product status updated successfully.",confirmButtonColor:"#3085d6",confirmButtonText:"OK"});let o=this.products.findIndex(a=>a.id===t.id);o!==-1&&(this.products[o]={id:t.id,title:t.title,feedback:t.feedback,status:t.status,quantity:t.quantity,merchantName:t.merchantName,merchantId:t.merchantId,image:t.image}),this.filterProducts(),this.closeProductModal()},error:e=>{E.default.fire({icon:"error",title:"Error",text:e.error?.message||"Failed to update product status. Please try again.",confirmButtonColor:"#d33",confirmButtonText:"OK"}),console.error("Error updating product status:",e)}})}}filterProducts(){this.loading=!0,this.currentPage=1;let t=[...this.products];if(this.productIdFilter){let e=this.productIdFilter.replace("#","");t=t.filter(o=>o.id.toString().includes(e))}t.sort((e,o)=>this.sortBy==="title-asc"?e.title.localeCompare(o.title):this.sortBy==="title-desc"?o.title.localeCompare(e.title):0),this.filteredProducts=t,this.updatePagination(),setTimeout(()=>{this.loading=!1},500)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1),this.updateDisplayedProducts()}updateDisplayedProducts(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;this.paginatedProducts=this.filteredProducts.slice(t,e)}change_tab(t){this.currentSection=t}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.updateDisplayedProducts())}get pageNumbers(){let e;this.totalPages<=4?e=1:this.currentPage<=this.totalPages-3?e=this.currentPage:e=Math.max(1,this.totalPages-3);let o=Math.min(this.totalPages,e+4-1),a=[];for(let m=e;m<=o;m++)a.push(m);return a}trackByProductId(t,e){return e.id}static \u0275fac=function(e){return new(e||i)(te(X),te(Ae))};static \u0275cmp=ae({type:i,selectors:[["app-admin-dashboard"]],standalone:!0,features:[le],decls:52,vars:21,consts:[[1,"flex","flex-col","md:flex-row"],[1,"relative"],[1,"w-full","md:w-64","bg-[var(--main-color)]","text-white","flex","flex-col","md:min-h-[100vh]"],[1,"p-4","md:pb-0","flex-grow","overflow-y-auto"],[1,"text-xl","p-2","font-bold","mb-4"],[1,"block","p-2","rounded","cursor-pointer","transition-all","duration-300","hover:bg-gray-600","hover:shadow-md",3,"click"],[1,"fa-solid","fa-home","mr-2"],[1,"fa-solid","fa-users","mr-2"],[1,"fa-solid","fa-store","mr-2"],[1,"fa-solid","fa-truck-fast","mr-2"],[1,"fa-solid","fa-truck","mr-2"],[1,"fa-solid","fa-box","mr-2"],[1,"w-full","hidden","md:block","flex","flex-col","gap-3","px-4","py-4","bg-[var(--main-color)]","mt-auto"],[1,"flex","flex-row"],[1,"w-12","h-12","bg-white","rounded-full","flex","flex-row","items-center","justify-center","text-[var(--main-color)]","font-bold","text-xl"],[1,"flex","flex-row","items-center","justify-between","flex-1"],[1,"ml-3"],[1,"font-semibold","text-lg"],[1,"text-sm","text-gray-300"],[1,"text-xl","cursor-pointer",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket","text-2xl"],[1,"flex-1","p-3","relative"],["class","px-4 animate-fade-in",4,"ngIf"],["class","animate-fade-in",4,"ngIf"],["class","flex flex-col gap-6 animate-fade-in",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"px-4","animate-fade-in"],[1,"text-3xl","font-bold","mb-4","text-gray-800","tracking-tight"],[1,"text-gray-600","mb-6","leading-relaxed"],["src","./assets/welcome.jpg","alt","Welcome",1,"mx-auto","w-[400px]","rounded-lg"],[1,"animate-fade-in"],["class","text-center py-12",4,"ngIf"],["class","grid gap-4",4,"ngIf"],["class","flex justify-center mt-6",4,"ngIf"],["class","fixed backdrop-blur-xs inset-0 flex items-center justify-center z-50 animate-scale-in",4,"ngIf"],[1,"text-center","py-12"],[1,"fa-solid","fa-spinner","fa-spin","text-4xl","text-gray-400","mb-4"],[1,"text-xl","font-semibold","text-gray-600"],[1,"fa-solid","fa-magnifying-glass","text-4xl","text-gray-400","mb-4"],[1,"grid","gap-4"],["class","p-4 border rounded-lg cursor-pointer bg-white shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","border","rounded-lg","cursor-pointer","bg-white","shadow-sm","hover:shadow-md","transition-all","duration-300","hover:-translate-y-1",3,"click"],[1,"flex","justify-between"],[1,"font-semibold","text-lg","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"text-right"],[1,"px-2","py-1","rounded","text-sm","font-medium",3,"ngClass"],[1,"flex","justify-center","mt-6"],[1,"inline-flex","rounded-lg"],[1,"px-4","py-2","cursor-pointer","disabled:cursor-not-allowed","disabled:opacity-50","hover:bg-gray-100","transition-colors","duration-200",3,"click","disabled"],[1,"fa-solid","fa-chevron-left"],["class","px-3 py-1 cursor-pointer mx-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fa-solid","fa-chevron-right"],[1,"px-3","py-1","cursor-pointer","mx-1",3,"click","ngClass"],[1,"fixed","backdrop-blur-xs","inset-0","flex","items-center","justify-center","z-50","animate-scale-in"],[1,"relative","bg-white","rounded-lg","p-6","w-full","max-w-md","shadow-2xl","transform","transition-all","backdrop-blur-sm"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-700",3,"click"],[1,"fa-solid","fa-times","text-xl"],[1,"text-2xl","font-semibold","mb-4","text-gray-800"],[1,"text-gray-700","mb-2"],[1,"text-gray-700","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["class","flex items-center",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["class","text-red-600 text-sm mb-4",4,"ngIf"],["class","text-green-600 text-sm mb-4",4,"ngIf"],[1,"flex","justify-end"],[1,"px-4","py-2","bg-gray-200","rounded","hover:bg-gray-300",3,"click"],[1,"flex","items-center"],[1,"ml-2","text-gray-500","hover:text-gray-700",3,"click"],[1,"fa-solid","fa-edit"],[1,"flex","items-center","space-x-2"],[1,"w-full","p-2","border","rounded","text-sm","focus:ring-2","focus:ring-[#703232]",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"px-3","py-1","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","text-white","rounded","hover:from-[#a14b4b]","hover:to-[#703232]",3,"click"],[1,"px-3","py-1","bg-gray-200","rounded","hover:bg-gray-300",3,"click"],[3,"value"],[1,"text-red-600","text-sm","mb-4"],[1,"text-green-600","text-sm","mb-4"],[1,"bg-white","rounded-lg","shadow-sm"],[1,"grid","grid-cols-5","gap-4","p-4","border-b","font-semibold","text-gray-700"],["class","grid grid-cols-5 gap-4 p-4 border-b hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-5","gap-4","p-4","border-b","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"text-gray-800","truncate",3,"title"],[1,"text-gray-600"],[4,"ngFor","ngForOf"],[1,"text-sm","text-gray-600","ml-2"],[1,"fa-solid","text-yellow-500",3,"ngClass"],[1,"px-4","py-2","cursor-pointer","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],["class","px-3 py-1 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-2","cursor-pointer","bg-transparent","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],[1,"px-3","py-1","cursor-pointer",3,"click","ngClass"],[1,"relative","bg-white","rounded-lg","p-6","w-full","max-w-md","shadow-2xl","transform","transition-all"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-700"],[1,"mt-4"],[1,"w-full","p-2","border","rounded","text-sm",3,"ngModelChange","change","ngModel"],["value","Active"],["value","Inactive"],[1,"flex","justify-end","mt-4"],[1,"mb-4","px-4","py-2","bg-[var(--main-color)]","text-white","rounded","hover:bg-opacity-90",3,"click"],["class","mb-4 p-4 border rounded-lg bg-white",4,"ngIf"],[1,"mb-4","p-4","border","rounded-lg","bg-white"],[1,"text-xl","font-semibold","mb-4"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-3","md:grid-cols-4","gap-4"],["formControlName","userName","type","text","placeholder","Enter username",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","email","type","email","placeholder","Enter email",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","password","type","password","placeholder","Enter password",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","phone","type","text","placeholder","Enter phone",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","state","type","text","placeholder","Enter state",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","governorate","type","text","placeholder","Enter governorate",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","location","type","text","placeholder","Enter location",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","gender","name","Gender","title","Gender",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["value","","disabled","","selected","","hidden",""],["value","Male"],["value","Female"],["formControlName","birthDate","type","date",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],["formControlName","nationalId","type","text","placeholder","Enter national ID",1,"w-full","p-2","border","rounded","text-sm",3,"ngClass"],[1,"sm:col-span-4","flex","justify-end"],["type","submit",1,"px-4","py-2","bg-[var(--main-color)]","text-white","rounded","hover:bg-opacity-90",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[1,"fa-solid","fa-spinner","text-4xl","text-gray-400","animate-spin"],["class","p-4 border rounded-lg cursor-pointer bg-white shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",3,"click",4,"ngFor","ngForOf"],["class","text-gray-700",4,"ngIf"],[1,"flex","justify-between","mt-4"],[1,"flex","flex-col","gap-6","animate-fade-in",3,"ngClass"],[1,"bg-white","p-4","rounded-lg","shadow-sm"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-1"],["disabled","",1,"w-full","p-2","border","rounded","text-sm","bg-gray-100","cursor-not-allowed",3,"ngModelChange","ngModel"],["value",""],["value","electronics"],["value","clothing"],["value","accessories"],["type","text","placeholder","Enter product ID (e.g., 1 or #1)",1,"w-full","p-2","border","rounded","text-sm",3,"ngModelChange","input","ngModel"],["value","title-asc"],["value","title-desc"],["class","grid grid-cols-4 gap-4 p-4 border-b font-semibold text-gray-700",4,"ngIf"],[1,"grid","grid-cols-4","gap-4","p-4","border-b","font-semibold","text-gray-700"],["class","grid grid-cols-4 gap-4 p-4 border-b hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-4","gap-4","p-4","border-b","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[3,"ngClass"],[1,"w-full","h-[200px]","object-cover","rounded-lg","mb-4",3,"src","alt"],[1,"text-2xl","font-semibold","mb-2"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-sm","text-gray-600"],[1,"text-sm",3,"ngClass"],[1,"w-full","p-2","border","rounded","text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4"],[1,"px-4","py-2","bg-[var(--main-color)]","text-white","rounded","hover:bg-opacity-90",3,"click"],["class","fixed inset-0 flex items-center justify-center z-50 bg-black/50 backdrop-blur-sm animate-scale-in",4,"ngIf"],[1,"text-4xl","font-extrabold","text-gray-900","bg-clip-text","text-transparent","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","text-center","mb-6"],["class","mt-2 text-sm text-red-500 bg-red-100 rounded-xl p-4 flex items-center justify-center",4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin","text-4xl","text-[#a14b4b]","mb-4"],[1,"mt-2","text-sm","text-red-500","bg-red-100","rounded-xl","p-4","flex","items-center","justify-center"],[1,"inline-block","w-4"],[1,"ml-2"],["class","p-4 border rounded-xl cursor-pointer bg-white/50 shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-1",3,"click",4,"ngFor","ngForOf"],[1,"p-4","border","rounded-xl","cursor-pointer","bg-white/50","shadow-md","hover:shadow-lg","transition-all","duration-300","hover:-translate-y-1",3,"click"],[1,"px-4","py-2","cursor-pointer","disabled:cursor-not-allowed","disabled:text-gray-400","text-gray-600","hover:text-[#703232]","transition-colors",3,"click","disabled"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","bg-black/50","backdrop-blur-sm","animate-scale-in"],[1,"bg-white","rounded-2xl","p-6","w-full","max-w-md","shadow-2xl"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-gray-900","bg-clip-text","text-transparent","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]"],[1,"text-gray-500","hover:text-[#703232]",3,"click"],["class","mt-2 text-sm text-green-500 bg-green-100 rounded-xl p-4 flex items-center",4,"ngIf"],["class","mt-2 text-sm text-red-500 bg-red-100 rounded-xl p-4 flex items-center",4,"ngIf"],[1,""],[1,"font-semibold","text-lg","text-gray-800","mb-2"],[1,"font-medium"],[1,"flex","items-center","gap-2"],["class","text-[#703232] hover:text-[#5b2929]",3,"click",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"flex","items-center","gap-2","mt-2"],[1,"font-medium","text-gray-700"],["class","px-2 py-1 rounded text-sm font-medium",3,"ngClass",4,"ngIf"],[1,"flex","justify-end","mt-6"],[1,"px-4","py-2","bg-gray-200","rounded-lg","text-gray-800","hover:bg-gray-300","transition-colors",3,"click"],[1,"mt-2","text-sm","text-green-500","bg-green-100","rounded-xl","p-4","flex","items-center"],[1,"mt-2","text-sm","text-red-500","bg-red-100","rounded-xl","p-4","flex","items-center"],[1,"text-[#703232]","hover:text-[#5b2929]",3,"click"],[1,"mt-2"],["type","text","placeholder","Enter new address",1,"w-full","p-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#703232]",3,"ngModelChange","ngModel"],[1,"flex","gap-2","mt-2"],[1,"px-4","py-2","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","text-white","rounded-lg","hover:from-[#5b2929]","hover:to-[#8c4040]","transition-colors",3,"click"],["type","text","placeholder","Enter new phone number",1,"w-full","p-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#703232]",3,"ngModelChange","ngModel"],[1,"w-full","p-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#703232]",3,"ngModelChange","ngModel"],[1,"list-disc","pl-5","text-gray-700"],[1,"text-gray-700","font-medium","mt-2"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div",3)(4,"h2",4),d(5,"Admin Dashboard"),r(),n(6,"nav")(7,"ul")(8,"li")(9,"a",5),_("click",function(){return o.currentSection="home",o.selectedCustomer=null,o.sidebarOpen=!1}),v(10,"i",6),d(11," Home "),r()(),n(12,"li")(13,"a",5),_("click",function(){return o.currentSection="customers",o.selectedCustomer=null,o.sidebarOpen=!1}),v(14,"i",7),d(15," Customers "),r()(),n(16,"li")(17,"a",5),_("click",function(){return o.currentSection="merchants",o.selectedMerchant=null,o.sidebarOpen=!1}),v(18,"i",8),d(19," Merchants "),r()(),n(20,"li")(21,"a",5),_("click",function(){return o.currentSection="delivery",o.selectedDeliveryRep=null,o.showAddForm=!1,o.sidebarOpen=!1}),v(22,"i",9),d(23," Delivery "),r()(),n(24,"li")(25,"a",5),_("click",function(){return o.currentSection="orders",o.selectedOrder=null,o.sidebarOpen=!1}),v(26,"i",10),d(27," Orders "),r()(),n(28,"li")(29,"a",5),_("click",function(){return o.currentSection="products",o.selectedProduct=null,o.sidebarOpen=!1}),v(30,"i",11),d(31," Products "),r()()()()(),n(32,"div",12)(33,"div",13)(34,"div",14),d(35),r(),n(36,"div",15)(37,"div",16)(38,"p",17),d(39),r(),n(40,"p",18),d(41),r()(),n(42,"div")(43,"a",19),_("click",function(){return o._UserAuthService.logout()}),v(44,"i",20),r()()()()()()(),n(45,"main",21),h(46,Ke,6,1,"div",22)(47,dt,8,5,"div",23)(48,gt,19,4,"div",23)(49,Vt,11,7,"div",23)(50,Lt,35,12,"div",24)(51,hi,3,2,"div",25),r()()),e&2&&(s(9),A("bg-gray-500",o.currentSection==="home"),s(4),A("bg-gray-500",o.currentSection==="customers"),s(4),A("bg-gray-500",o.currentSection==="merchants"),s(4),A("bg-gray-500",o.currentSection==="delivery"),s(4),A("bg-gray-500",o.currentSection==="orders"),s(4),A("bg-gray-500",o.currentSection==="products"),s(6),g(" ",o.adminPersonName[0]," "),s(4),I(o.adminPersonName),s(2),I(o.decodedToken.Role),s(5),l("ngIf",o.currentSection==="home"),s(),l("ngIf",o.currentSection==="customers"),s(),l("ngIf",o.currentSection==="merchants"),s(),l("ngIf",o.currentSection==="delivery"),s(),l("ngIf",o.currentSection==="products"),s(),l("ngIf",o.currentSection==="orders"))},dependencies:[ge,me,ue,pe,_e,Ee,Se,Ie,Me,xe,De,fe,be,ye,Oe,Pe,we],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};export{ke as AdminDashboardComponent};
